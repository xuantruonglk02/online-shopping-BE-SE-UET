<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('layouts/head') %>

  <link rel="stylesheet" href="/css/account.css">
</head>

<body>
  <%- include('layouts/header') %>
  <div class="main">
    <div class="page-body row">
      <div class="account-left">
        <div class="account-left-row account-left-focus">
          <a href="/user/account">
            <i class="fa-solid fa-user"></i>
            <span>Thông tin tài khoản</span>
          </a>
        </div>
        <div class="account-left-row">
          <a href="/user/orders">
            <i class="fa-solid fa-clipboard-list"></i>
            <span>Đơn hàng</span>
          </a>
        </div>
      </div>
      <div class="account-right">
        <div class="account-right-title">
          <h2>Hồ sơ của tôi</h2>
          <span>Quản lý thông tin tài khoản</span>
        </div>
        <div class="account-right-content">
          <div class="account-right-row row">
            <div class="account-right-row-left">
              <span>Tên khách hàng</span>
            </div>
            <div class="account-right-row-right row">
              <input type="text" id="name" value="Phạm Xuân Trường" required disabled>
              <div class="account-right-row-btns row">
                <a href="#" onclick="return false" title="Chỉnh sửa"><i class="fa-solid fa-pen"></i></a>
                <a href="#" onclick="return false" title="Lưu" data-url="/user/setting/change-email"><i class="fa-regular fa-circle-check"></i></a>
              </div>
            </div>
          </div>
          <div class="account-right-row row">
            <div class="account-right-row-left">
              <span>Email</span>
            </div>
            <div class="account-right-row-right row">
              <input type="email" id="email" value="xuantruonglk02@gmail.com" required disabled>
              <div class="account-right-row-btns row">
                <a href="#" onclick="return false" title="Chỉnh sửa"><i class="fa-solid fa-pen"></i></a>
                <a href="#" onclick="return false" title="Lưu" data-url="/user/setting/change-email"><i class="fa-regular fa-circle-check"></i></a>
              </div>
            </div>
          </div>
          <div class="account-right-row row">
            <div class="account-right-row-left">
              <span>Số điện thoại</span>
            </div>
            <div class="account-right-row-right row">
              <input type="text" id="phone" value="0376520507" required disabled>
              <div class="account-right-row-btns row">
                <a href="#" onclick="return false" title="Chỉnh sửa"><i class="fa-solid fa-pen"></i></a>
                <a href="#" onclick="return false" title="Lưu" data-url="/user/setting/change-phone"><i class="fa-regular fa-circle-check"></i></a>
              </div>
            </div>
          </div>
          <div class="account-right-row row">
            <div class="account-right-row-left">
              <span>Địa chỉ</span>
            </div>
            <div class="account-right-row-right row">
              <input type="text" id="address" value="HN" required disabled>
              <div class="account-right-row-btns row">
                <a href="#" onclick="return false" title="Chỉnh sửa"><i class="fa-solid fa-pen"></i></a>
                <a href="#" onclick="return false" title="Lưu" data-url="/user/setting/change-address"><i class="fa-regular fa-circle-check"></i></a>
              </div>
            </div>
          </div>
        </div>
        <div class="account-right-submit-ctn">
          <div class="account-right-submit-content-up row">
            <span>Mật khẩu</span>
            <input type="password" id="password" required>
          </div>
          <div>
            <button id="submit-profile">Lưu thông tin</button>
          </div>
        </div>

        <script>
          $('.account-right-row-btns a:first-of-type').click(function () {
            $(this).parents()[1].getElementsByTagName('input')[0].disabled = false;
            $(this).parents()[0].getElementsByTagName('a')[1].style.display = 'block'
          });
          $('.account-right-row-btns a:last-of-type').click(function () {
            $(this).parents()[1].getElementsByTagName('input')[0].disabled = true;
            $('.account-right-submit-ctn').css('display', 'flex');
          });
          $('#submit-profile').click(function () {
            $(this).css('display', 'none');

            // $.ajax({
            //   type: 'POST',
            //   url: $(this).data('url'),
            //   data: {
            //     newData: $(this).parents()[1].getElementsByTagName('input')[0].value
            //   },
            //   success: function (data) {
            //     console.log(data);
            //   },
            //   error: function (data) {
            //     alert('Đã có lỗi xảy ra');
            //   }
            // });
          });
        </script>
      </div>
    </div>
  </div>

  <%- include('layouts/footer') %>

  <%- include('layouts/script') %>
</body>

</html>